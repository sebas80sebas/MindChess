<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Phantom Moves</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="chessground.css" />
  <link rel="stylesheet" href="chessgroundbase.css" />
  <link rel="stylesheet" href="chessgroundbrown.css" />
</head>
<body>
  <h1>MindChess</h1>
  <h2>Speak, Move & They'll Move.</h2>
  
  <!-- Start screen -->
  <div id="start-screen">
    <img src="icon.png" alt="Logo" style="max-width: 225px;">

    <!-- Time selection -->
    <div id="time-selector">
      <h3>Select Game Time</h3>
      <button class="time-option" data-time="300">5 Minutes</button>
      <button class="time-option" data-time="600">10 Minutes</button>
      <button class="time-option" data-time="900">15 Minutes</button>
      <button class="time-option" data-time="0">No Limit</button>
    </div>

    <button id="startButton">Start Game</button>
    <button id="tutorialButton">Tutorial</button>
  </div>
  
  <!-- Tutorial screen -->
  <div id="tutorial-screen" style="display: none;">
    <div class="tutorial-container">
      <div class="tutorial-header">
        <button id="closeTutorial" class="header-btn">âœ• Close</button>
        <h2>ğŸ“ MindChess Tutorial</h2>
        <div style="width: 80px;"></div> <!-- Spacer to keep title centered -->
      </div>
      
      <div class="tutorial-navigation">
        <button id="prevPage">â—€ Previous</button>
        <span id="tutorialPage">Step 1 of 38</span>
        <button id="nextPage">Next â–¶</button>
      </div>

      <div class="tutorial-content" id="tutorial-display-area">
        <!-- This area will be dynamically populated by script.js -->
      </div>
      
      <!-- Hidden source content for the tutorial -->
      <div id="tutorial-source-content" style="display: none;">
        <div id="t-1-1"><h3>Welcome to MindChess! ğŸ‘‹</h3></div>
        <div id="t-1-2"><p>MindChess is a revolutionary chess game where you can play using <strong>voice commands</strong>!</p></div>
        <div id="t-1-3"><p>No need to touch the board - just speak your moves and watch them happen.</p></div>
        <div id="f-1-1"><div class="tutorial-feature"><span class="feature-icon">ğŸ¤</span><div><strong>Voice Control</strong><p>Use your microphone to give chess commands in English or Spanish.</p></div></div></div>
        <div id="f-1-2"><div class="tutorial-feature"><span class="feature-icon">â±ï¸</span><div><strong>Timed Games</strong><p>Choose from 5, 10, or 15-minute games, or play without time limits.</p></div></div></div>
        <div id="f-1-3"><div class="tutorial-feature"><span class="feature-icon">ğŸŒ</span><div><strong>Bilingual Support</strong><p>Switch between English and Spanish at any time during the game.</p></div></div></div>
        
        <div id="t-2-1"><h3>Basic Voice Commands ğŸ—£ï¸</h3></div>
        <div id="t-2-2"><h4>How to Make a Move</h4></div>
        <div id="t-2-3"><p>To move a piece, use this format:</p></div>
        <div id="c-2-1"><div class="command-example"><code>"Move [piece] to [square]"</code><span class="example-text">Example: "Move knight to e4"</span></div></div>
        <div id="t-2-5"><h4>Chess Pieces You Can Say</h4></div>
        <div id="p-2-1"><div class="command-item"><span class="piece-symbol">â™™</span><strong>Pawn</strong><p>English: "pawn"</p><p>Spanish: "peÃ³n"</p></div></div>
        <div id="p-2-2"><div class="command-item"><span class="piece-symbol">â™œ</span><strong>Rook</strong><p>English: "rook"</p><p>Spanish: "torre"</p></div></div>
        <div id="p-2-3"><div class="command-item"><span class="piece-symbol">â™</span><strong>Knight</strong><p>English: "knight"</p><p>Spanish: "caballo"</p></div></div>
        <div id="p-2-4"><div class="command-item"><span class="piece-symbol">â™</span><strong>Bishop</strong><p>English: "bishop"</p><p>Spanish: "alfil"</p></div></div>
        <div id="p-2-5"><div class="command-item"><span class="piece-symbol">â™›</span><strong>Queen</strong><p>English: "queen"</p><p>Spanish: "reina or dama"</p></div></div>
        <div id="p-2-6"><div class="command-item"><span class="piece-symbol">â™š</span><strong>King</strong><p>English: "king"</p><p>Spanish: "rey"</p></div></div>

        <div id="t-3-1"><h3>Advanced Commands ğŸ¯</h3></div>
        <div id="t-3-2"><h4>Special Moves</h4></div>
        <div id="c-3-1"><div class="command-example"><strong>ğŸ° Castling:</strong><br><code>"Castle kingside"</code> or <code>"O-O"</code><br><span class="example-text">Spanish: "enroque corto"</span></div></div>
        <div id="c-3-2"><div class="command-example"><strong>ğŸ° Castling:</strong><br><code>"Castle queenside"</code> or <code>"O-O-O"</code><br><span class="example-text">Spanish: "enroque largo"</span></div></div>
        <div id="c-3-3"><div class="command-example"><strong>ğŸ“– Read Moves:</strong><br><code>"Read"</code><br><span class="example-text">Spanish: "leer" - Announces all moves</span></div></div>
        <div id="c-3-4"><div class="command-example"><strong>â®ï¸ Undo Last Move:</strong><br><code>"Undo"</code><br><span class="example-text">Spanish: "deshacer"</span></div></div>
        <div id="c-3-5"><div class="command-example"><strong>ğŸ¤ Offer Draw:</strong><br><code>"Draw"</code><br><span class="example-text">Spanish: "tablas" or "empate"</span></div></div>
        <div id="c-3-6"><div class="command-example"><strong>ğŸ³ï¸ Resign:</strong><br><code>"Resign"</code><br><span class="example-text">Spanish: "rendirse"</span></div></div>

        <div id="t-4-1"><h3>How to Play ğŸ®</h3></div>
        <div id="s-4-1"><div class="tutorial-step"><div class="step-number">1</div><div class="step-content"><strong>Select Time Control</strong><p>Choose 5, 10, or 15 minutes, or unlimited time.</p></div></div></div>
        <div id="s-4-2"><div class="tutorial-step"><div class="step-number">2</div><div class="step-content"><strong>Start the Game</strong><p>Click "Start Game" to begin. White moves first.</p></div></div></div>
        <div id="s-4-3"><div class="tutorial-step"><div class="step-number">3</div><div class="step-content"><strong>Activate Voice</strong><p>Click "Speak" or press <strong>V</strong> key to start listening.</p></div></div></div>
        <div id="s-4-4"><div class="tutorial-step"><div class="step-number">4</div><div class="step-content"><strong>Speak Your Move</strong><p>Say: "Move pawn to e4"</p></div></div></div>
        <div id="s-4-5"><div class="tutorial-step"><div class="step-number">5</div><div class="step-content"><strong>Alternate Turns</strong><p>The timer switches automatically after each move.</p></div></div></div>
        <div id="t-4-12"><div class="tutorial-tip"><strong>ğŸ’¡ Pro Tip:</strong> You can also drag pieces with your mouse!</div></div>

        <div id="t-5-1"><h3>Tips & Tricks ğŸ’¡</h3></div>
        <div id="tc-5-1"><div class="tip-card"><h4>ğŸ¤ Voice Tips</h4><ul><li>Speak clearly at a moderate pace</li><li>Use a quiet environment</li></ul></div></div>
        <div id="tc-5-2"><div class="tip-card"><h4>â±ï¸ Timer</h4><ul><li>Timer turns orange at 30s, red at 10s</li></ul></div></div>
        <div id="tc-5-3"><div class="tip-card"><h4>ğŸŒ Languages</h4><ul><li>Switch between English and Spanish anytime</li></ul></div></div>
        <div id="tc-5-4"><div class="tip-card"><h4>ğŸ¯ Validation</h4><ul><li>Only legal moves will be executed</li></ul></div></div>
        <div id="t-5-19"><div class="tutorial-tip"><strong>ğŸ‰ Ready?</strong> Click Start Game below to begin!</div></div>
      </div>
    </div>
  </div>      </div>
    </div>
  </div>

<!-- Main board container -->
<div id="container" style="display: none;">
  <div id="board-container">
    <!-- Timer for Black (top) -->
    <div id="timer-black" class="timer">
      <span class="player-label">Black</span>
      <span class="time-display">--:--</span>
    </div>
    
    <div id="board" class="cg-board"></div>
    
    <!-- Timer for White (bottom) -->
    <div id="timer-white" class="timer timer-active">
      <span class="player-label">White</span>
      <span class="time-display">--:--</span>
    </div>
    
    <div id="status">Waiting...</div>
    <button id="voiceButton" disabled>Speak</button>
    <button id="drawButton">Request Draw</button>
    <button id="surrenderButton">Resign</button> 
    <button id="exitButton">Exit</button> 
  </div>
  <div id="info-container">
    <h2>Moves</h2>
    <ul id="moves"></ul>
    <h3>Messages</h3>
    <div id="moveMessages"></div>
  </div>
</div>
<!-- Modal for RESIGNATION confirmation -->
<div id="surrenderConfirm" class="modal" style="display: none;">
  <div class="modal-content">
    <p>Are you sure you want to resign?</p>
    <button id="confirmSurrender">Yes</button>
    <button id="cancelSurrender">No</button>
  </div>
</div>
<!-- Modal for EXIT confirmation -->
<div id="exitConfirm" class="modal" style="display: none;">
  <div class="modal-content">
    <p>Are you sure you want to exit to the main menu?</p>
    <button id="confirmExit">Yes</button>
    <button id="cancelExit">No</button>
  </div>
</div>
  <!-- Confirmation modal to accept draw -->
  <div id="drawConfirm" class="modal" style="display: none;">
    <div class="modal-content">
      <p>Accept draw proposed by opponent?</p>
      <button id="acceptDraw">Accept</button>
      <button id="rejectDraw">Reject</button>
    </div>
  </div>
  <script type="module" src="script.js"></script>
</body>
</html>
