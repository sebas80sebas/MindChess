<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MindChess</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="chessground.css" />
  <link rel="stylesheet" href="chessgroundbase.css" />
  <link rel="stylesheet" href="chessgroundbrown.css" />
</head>
<body>
  <h1>MindChess</h1>
  <h2>Speak, Move & They'll Move.</h2>
  
  <!-- Start screen -->
  <div id="start-screen">
    <img src="icon.png" alt="Logo" style="max-width: 225px;">

    <!-- Opponent selection -->
    <div id="opponent-selector" class="selector-group">
      <h3>Select Opponent</h3>
      <button class="opp-option selected" data-opp="human">ğŸ‘¤ vs Human</button>
      <button class="opp-option" data-opp="computer">ğŸ¤– vs Computer</button>
    </div>

    <!-- Time selection -->
    <div id="time-selector" class="selector-group">
      <h3>Select Game Time</h3>
      <button class="time-option" data-time="300">5 Minutes</button>
      <button class="time-option" data-time="600">10 Minutes</button>
      <button class="time-option" data-time="900">15 Minutes</button>
      <button class="time-option" data-time="0">No Limit</button>
    </div>

    <button id="startButton">Start Game</button>
    <button id="tutorialButton">Tutorial</button>
  </div>
  
  <!-- Tutorial screen -->
  <div id="tutorial-screen" style="display: none;">
    <div class="tutorial-container">
      <div class="tutorial-header">
        <button id="closeTutorial" class="header-btn">âœ• Close</button>
        <h2>ğŸ“ MindChess Tutorial</h2>
        <div style="width: 80px;"></div> <!-- Spacer to keep title centered -->
      </div>
      
      <div class="tutorial-navigation">
        <button id="prevPage">â—€ Previous</button>
        <span id="tutorialPage">Step 1 of 38</span>
        <button id="nextPage">Next â–¶</button>
      </div>

      <div class="tutorial-content" id="tutorial-display-area">
        <!-- This area will be dynamically populated by script.js -->
      </div>
      
      <!-- Hidden source content for the tutorial -->
      <div id="tutorial-source-content" style="display: none;">
        <div id="step-1">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ‘‹</span>
            <div>
              <strong>Welcome to MindChess!</strong>
              <p>MindChess is a revolutionary chess game where you can play using <strong>voice commands</strong>! No need to touch the board - just speak your moves and watch them happen.</p>
            </div>
          </div>
        </div>

        <div id="step-2">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ¤</span>
            <div>
              <strong>Voice Control</strong>
              <p>Use your microphone to give chess commands in English or Spanish.</p>
            </div>
          </div>
        </div>

        <div id="step-3">
          <div class="tutorial-feature">
            <span class="feature-icon">â±ï¸</span>
            <div>
              <strong>Timed Games</strong>
              <p>Choose from 5, 10, or 15-minute games, or play without time limits.</p>
            </div>
          </div>
        </div>

        <div id="step-4">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸŒ</span>
            <div>
              <strong>Bilingual Support</strong>
              <p>Switch between English and Spanish at any time during the game.</p>
            </div>
          </div>
        </div>
        
        <div id="step-5">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ—£ï¸</span>
            <div>
              <strong>How to Make a Move</strong>
              <p>Say the piece name and destination. Example: <code>"Move knight to e4"</code></p>
            </div>
          </div>
        </div>

        <div id="step-6">
          <div class="tutorial-feature">
            <span class="feature-icon">â™Ÿï¸</span>
            <div>
              <strong>Chess Pieces</strong>
              <p>English: Pawn, Rook, Knight, Bishop, Queen, King.<br>Spanish: PeÃ³n, Torre, Caballo, Alfil, Dama, Rey.</p>
            </div>
          </div>
        </div>

        <div id="step-7">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ°</span>
            <div>
              <strong>Special Moves</strong>
              <p>Say <code>"Castle kingside"</code> or <code>"enroque corto"</code>. For queenside: <code>"Castle queenside"</code> or <code>"enroque largo"</code>.</p>
            </div>
          </div>
        </div>

        <div id="step-8">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ“–</span>
            <div>
              <strong>Read, Repeat & Undo</strong>
              <p>Say <code>"Read"</code> to hear all moves, <code>"Repeat"</code> to hear the last move again, or <code>"Undo"</code> to take back your last move.</p>
            </div>
          </div>
        </div>

        <div id="step-9">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ¤</span>
            <div>
              <strong>Draw & Resign</strong>
              <p>You can offer a <code>"Draw"</code> or <code>"Resign"</code> from the game using voice commands.</p>
            </div>
          </div>
        </div>

        <div id="step-10">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ®</span>
            <div>
              <strong>To Play</strong>
              <p>Select time, start game, and press <strong>V</strong> key or Speak button to start listening.</p>
            </div>
          </div>
        </div>

        <div id="step-11">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ–±ï¸</span>
            <div>
              <strong>Mouse Support</strong>
              <p>While designed for voice, you can still drag pieces with your mouse at any time!</p>
            </div>
          </div>
        </div>

        <div id="step-12">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ’¡</span>
            <div>
              <strong>Tips</strong>
              <p>Speak clearly in a quiet environment. The game handles validation and time alerts automatically.</p>
            </div>
          </div>
        </div>

        <div id="step-13">
          <div class="tutorial-feature">
            <span class="feature-icon">ğŸ‰</span>
            <div>
              <strong>Ready?</strong>
              <p>You are now ready to play! Click Close and Start Game to begin your adventure!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>      </div>
    </div>
  </div>

<!-- Main board container -->
<div id="container" style="display: none;">
  <div id="board-container">
    <!-- Timer for Black (top) -->
    <div id="timer-black" class="timer">
      <span class="player-label">Black</span>
      <span class="time-display">--:--</span>
    </div>
    
    <div id="board" class="cg-board"></div>
    
    <!-- Timer for White (bottom) -->
    <div id="timer-white" class="timer timer-active">
      <span class="player-label">White</span>
      <span class="time-display">--:--</span>
    </div>
    
    <div id="status">Waiting...</div>
    <button id="voiceButton" disabled>Speak</button>
    <button id="repeatButton">Repeat Move</button>
    <button id="readButton">Read Moves</button>
    <button id="undoButton">Undo Move</button>
    <button id="drawButton">Request Draw</button>
    <button id="surrenderButton">Resign</button> 
    <button id="exitButton">Exit</button> 
  </div>
  <div id="info-container">
    <h2>Moves</h2>
    <ul id="moves"></ul>
    <h3>Messages</h3>
    <div id="moveMessages"></div>
  </div>
</div>
<!-- Modal for RESIGNATION confirmation -->
<div id="surrenderConfirm" class="modal" style="display: none;">
  <div class="modal-content">
    <p>Are you sure you want to resign?</p>
    <button id="confirmSurrender">Yes</button>
    <button id="cancelSurrender">No</button>
  </div>
</div>
<!-- Modal for EXIT confirmation -->
<div id="exitConfirm" class="modal" style="display: none;">
  <div class="modal-content">
    <p>Are you sure you want to exit to the main menu?</p>
    <button id="confirmExit">Yes</button>
    <button id="cancelExit">No</button>
  </div>
</div>
  <!-- Confirmation modal to accept draw -->
  <div id="drawConfirm" class="modal" style="display: none;">
    <div class="modal-content">
      <p>Accept draw proposed by opponent?</p>
      <button id="acceptDraw">Accept</button>
      <button id="rejectDraw">Reject</button>
    </div>
  </div>
  <script type="module" src="script.js"></script>
</body>
</html>
